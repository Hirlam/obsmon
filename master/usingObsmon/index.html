<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Using Obsmon · Obsmon</title><meta name="title" content="Using Obsmon · Obsmon"/><meta property="og:title" content="Using Obsmon · Obsmon"/><meta property="twitter:title" content="Using Obsmon · Obsmon"/><meta name="description" content="Documentation for Obsmon."/><meta property="og:description" content="Documentation for Obsmon."/><meta property="twitter:description" content="Documentation for Obsmon."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Obsmon</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../Getting_obsmon/">Getting Obsmon</a></li><li><a class="tocitem" href="../Installing/">Installing, Execturing updating</a></li><li><a class="tocitem" href="../configfile/">The config file</a></li><li class="is-active"><a class="tocitem" href>Using Obsmon</a><ul class="internal"><li><a class="tocitem" href="#usage-plots-interactive"><span>Interactive plots with editable elements</span></a></li><li><a class="tocitem" href="#plotUnits"><span>Physical Units in the Plots</span></a></li><li><a class="tocitem" href="#queryAndData"><span>Explore The Data Used in Your Plots</span></a></li><li><a class="tocitem" href="#multiplots"><span>Producing multiple plots in one go with <code>multiPlots</code></span></a></li><li><a class="tocitem" href="#batch-mode"><span>Batch mode</span></a></li><li><a class="tocitem" href="#domains"><span>Domain Geometry &amp; Grid</span></a></li><li><a class="tocitem" href="#cache"><span>Caching</span></a></li></ul></li><li><a class="tocitem" href="../faq/">Frequently asked Questions</a></li><li><a class="tocitem" href="../gettingSupport/">Getting Support</a></li><li><a class="tocitem" href="../Collaborators/">Collaborators</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Using Obsmon</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Using Obsmon</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Hirlam/obsmon" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Hirlam/obsmon/blob/master/docs/src/usingObsmon.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="usage"><a class="docs-heading-anchor" href="#usage">Using obsmon</a><a id="usage-1"></a><a class="docs-heading-anchor-permalink" href="#usage" title="Permalink"></a></h1><p>Once installed (<a href="../Installing/#install">3</a>) and minimally configured (<a href="../configfile/#config-file">4</a>, obsmon is typically quite simple to use. This section discusses those features of the code that may be less straightforward to use, or about which we most commonly receive questions from users. If you have any doubts that are not covered here, you recommend you to take a look at the FAQ in <a href="../faq/#faq">6</a>.</p><h2 id="usage-plots-interactive"><a class="docs-heading-anchor" href="#usage-plots-interactive">Interactive plots with editable elements</a><a id="usage-plots-interactive-1"></a><a class="docs-heading-anchor-permalink" href="#usage-plots-interactive" title="Permalink"></a></h2><p>Most plots in obsmon allow you to zoom, pan, hover etc. A less obvious but useful feature of these plots is the ability to hide and show parts of the plotted data. You can do so by single- or double-clicking on the items in the legend. You can also edit plot titles, legends, axes labels, as well as change the position of some of these elements by dragging them.</p><p>This feature is enabled by default for regular plots, and it can switched off/on by using the config file option <code>plotsEnableInteractivity</code> (see <a href="../configfile/#config-file-general">4.1</a>). The default behaviour for <code>multiPlots</code> (<a href="#multiplots">5.4</a>, on the other hand, is different, and interactivity is disabled for such plots unless otherwise specified via config file option <code>multiPlotsEnableInteractivity</code>.</p><h2 id="plotUnits"><a class="docs-heading-anchor" href="#plotUnits">Physical Units in the Plots</a><a id="plotUnits-1"></a><a class="docs-heading-anchor-permalink" href="#plotUnits" title="Permalink"></a></h2><p>For the plots in the main area, it is possible to customise the physical units used for some physical quantities. You can modify these by entering the name of the new units in the appropriate GUI text input. The new units must, of course, be compatible with the default ones.</p><h2 id="queryAndData"><a class="docs-heading-anchor" href="#queryAndData">Explore The Data Used in Your Plots</a><a id="queryAndData-1"></a><a class="docs-heading-anchor-permalink" href="#queryAndData" title="Permalink"></a></h2><p>For every plot, there is also available a <strong>Query &amp; Data</strong> tab where you can find the SQLite query used to fetch the data along with the fetched raw data, as well as the aactuall data used in the plot.</p><p>Note that:</p><ul><li><p>The tables are searchable</p></li><li><p>You can use the arrows next to the tables&#39; column labels to sort   data</p><ul><li>You can <em>sort by multiple columns</em> by pressing the <code>shift</code> key   when clicking on these arrows</li></ul></li><li><p>You can export the tables&#39; data as text or CSV files</p></li></ul><h2 id="multiplots"><a class="docs-heading-anchor" href="#multiplots">Producing multiple plots in one go with <code>multiPlots</code></a><a id="multiplots-1"></a><a class="docs-heading-anchor-permalink" href="#multiplots" title="Permalink"></a></h2><p>A <code>multiPlot</code> is a collection of multiple plots performed as a result of a single plot request. It provides a way to reduce the number of operations (or &quot;clicks\&quot;) a user needs to perform in order to generate multiple plots.</p><p>The parameters for each <code>multiPlot</code> are defined in the configuration file through the use of <code>[[multiPlot]]</code> sections. In the following, we will discuss the main aspects of how to configure a <code>multiPlot</code>. There is no limit to the number of <code>multiPlots</code> that can be configured. To add a new <code>multiPlot</code>, just add a new <code>[[multiPlot]]</code> section to the configuration file. We encourage you to take a look at the template config file <code>docs/example/config.toml</code> for more concrete examples.</p><h3 id="multiplots-common-params"><a class="docs-heading-anchor" href="#multiplots-common-params">Parameters shared by all plots within the same <code>multiPlot</code></a><a id="multiplots-common-params-1"></a><a class="docs-heading-anchor-permalink" href="#multiplots-common-params" title="Permalink"></a></h3><p>The following parameters apply for all plots contained within a <code>multiPlot</code> and must be specified when defining a new <code>multiPlot</code>:</p><ul><li><p><code>displayName</code>: Used to identify the <code>multiPlot</code> in the web interface.  Accepted values: Any (you are free to choose the name of your <code>multiPlot</code>).</p></li><li><p><code>experiment</code>: Which experiment to use.  Accepted values: The <code>displayName</code> of a valid <code>[[experiments]]</code> entry. See <a href="../configfile/#config-file-experiments">4.2</a>.</p></li><li><p><code>database</code>: Which experiment database to get data from.Accepted values: <code>ccma</code>, <code>ecma</code> or <code>ecma_sfc</code>.</p></li><li><p><code>plotType</code>: The type of plot that will be performed.  Accepted values: Any <code>plotType</code> ordinarily supported by obsmon</p></li><li><p>DTG-related parameters.</p><ul><li><p><code>startDate</code>: A date in the <code>&quot;YYYY-MM-DD&quot;</code> format or an integer   number <code>N</code> less than or equal to zero. If the integer number   format is used, then it will represent a date   <span>$\mid \texttt{N} \mid$</span> days before the day the plot is   requested.</p></li><li><p><code>endDate</code>: A date in the <code>&quot;YYYY-MM-DD&quot;</code> format. <em>Do not use this   if <code>startDate</code> is a negative integer or if <code>nDays</code> (see below)   is used.</em>. The default, if <code>startDate</code> is not a negative integer   and <code>nDays</code> is not passed, is &#39;today&#39; – whatever day today is.</p></li><li><p><code>nDays</code>: A non-negative integer number. Sets the end date for   the plot to <code>startDate + nDays - 1</code>. <em>Do not use this if   <code>startDate</code> is a negative integer or if <code>endDate</code> is explicitly   set.</em></p></li><li><p><code>cycles</code>: Cycle number(s) in the <code>&quot;HH&quot;</code> format. E.g.: <code>&quot;03&quot;</code> (to   select a single cycle) or <code>[&quot;00&quot;, &quot;03&quot;, &quot;12&quot;]</code> (to select   multiple cycles).</p></li></ul></li></ul><h3 id="multiplots-minimal-config"><a class="docs-heading-anchor" href="#multiplots-minimal-config">Minimal <code>[[multiPlot]]</code> entry configuration</a><a id="multiplots-minimal-config-1"></a><a class="docs-heading-anchor-permalink" href="#multiplots-minimal-config" title="Permalink"></a></h3><p>The parameters described in <a href="#multiplots-common-params">5.4.1</a> are already enough for a minimal <code>[[multiPlot]]</code> configuration. The following definition, for instance, is a perfectly valid <code>multiPlot</code> entry:</p><pre><code class="nohighlight hljs">    [[multiPlots]]
        displayName = &quot;A minimal multiPlot config entry&quot;
        experiment = &quot;The name of my experiment&quot;
        plotType = &quot;Number of Observations&quot;
        database = &quot;ecma&quot;
        startDate = -30</code></pre><p>Such an entry will create a <code>multiPlot</code> that will contain one plot of the &quot;Number of Observations&quot; type for every valid combination of observation type, name, variable, levels, station, satellite name, sensor, channels, etc. The default behaviour can thus be summarised as: <em>Everything is included unless otherwise specified.</em></p><h3 id="Selecting-what-to-include/exclude-from-a-multiPlot"><a class="docs-heading-anchor" href="#Selecting-what-to-include/exclude-from-a-multiPlot">Selecting what to include/exclude from a <code>multiPlot</code></a><a id="Selecting-what-to-include/exclude-from-a-multiPlot-1"></a><a class="docs-heading-anchor-permalink" href="#Selecting-what-to-include/exclude-from-a-multiPlot" title="Permalink"></a></h3><p>The total number of individual plots composing a <code>multiPlot</code> depends on what you choose to include and/or exclude. As explained in <a href="#multiplots-minimal-config">5.4.2</a>, obsmon adopts the convention that a <code>multiPlot</code> will include everything that can possibly make sense within its context, unless specified otherwise.</p><p>Including and/or excluding parameters such as observation types, variables, levels, stations, satellites, channels, etc. is relatively simple. There are, however, many such options, and explaining them all here would take many more lines than actually writing down the corresponding entries in the configuration file. For this reason, we have instead produced a template <code>config.toml.example</code> file containing a comprehensive selection of examples on how to setup <code>multiPlots</code>. This file can be found under the <code>docs</code> directory.</p><p>We highly recommend that you read and understand the template config file if you want to setup <code>multiPlots</code>, and we encourage you to copy the entries from that file and adapt them to what you need. Finally, feel free to get in touch should you think something is missing.</p><h2 id="batch-mode"><a class="docs-heading-anchor" href="#batch-mode">Batch mode</a><a id="batch-mode-1"></a><a class="docs-heading-anchor-permalink" href="#batch-mode" title="Permalink"></a></h2><p>Batch mode allows producing plots without the use of the GUI. When run in batch mode, obsmon will produce the appropriate pre-configured plot(s), save the results in individual files (under appropriately named directories, see more below), and then exit.</p><p>There are many usage scenarios where such a functionality can come in handy. For instance, remotely opening a web browser from ECMWF can be very slow, as discussed. In such cases, one can run obsmon in batch mode and then retrieve the generated files via, e.g., <code>ftp</code>.  Another usage case example would be calling obsmon from a script that runs as part of a <code>cron</code> job, thus allowing one to regularly produce plots without user intervention.</p><h3 id="batch-mode-configuration"><a class="docs-heading-anchor" href="#batch-mode-configuration">Configuration of batch-mode plots</a><a id="batch-mode-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#batch-mode-configuration" title="Permalink"></a></h3><p>Batch-mode plots in obsmon are simply <code>multiPlots</code> activated for this type of use. Therefore, the first step to configure a batch-mode plot is to setup a valid <code>multiPlot</code> as described in <a href="#multiplots">5.4</a>.  Properly configured <code>multiPlots</code> can then be activated for use in batch mode by adding, <em>under the main level in the corresponding <code>[[multiPlots]]</code> entry</em>, either:</p><ul><li><p>A <code>[multiPlots.batchMode]</code> table, which may be empty or contain any of the the following entries:</p><ul><li><p><code>enable</code>: Whether or not to enable the <code>multiPlot</code> for use in batch mode.   Default: <code>true</code>   Accepted values: <code>true</code> or <code>false</code></p></li><li><p><code>parentDir</code>: Where to put the directory containing the plots produced by the <code>multiPlot</code> when run in batch mode.  Default: The directory obsmon is being executed from.  Accepted values: Any path where the user running obsmon has write access to. Both relative and absolute paths are accepted.  Relative paths are assumed to be relative to where obsmon is being executed from. A <code>parentDir</code> may be shared by multiple <code>multiPlots</code>.</p></li><li><p><code>dirName</code>: The name of the directory where to put the produced plots. <em>This is just the directory name</em>. It will be prepended   by <code>parentDir</code> to generate a full path. </p><p>Default: <code>obsmon_batch_MPNAME_TIMESTAMP</code>, where <code>MPNAME</code> is a version of the <code>multiPlot</code>&#39;s <code>displayName</code> in lowercase and with any non-<a href="https://www.regular-expressions.info/shorthand.html">word   characters</a> (or sequence of such characters) replaced by a single   underscore, and <code>TIMESTAMP</code> is the time (in <a href="http://pubs.opengroup.org/onlinepubs/009695399/functions/strftime.html">%H%M%S format</a>) when the directory was created.</p><p>Accepted values: Any valid directory name such that the full path <code>parentDir</code>/<code>dirName</code> does not already exist.</p></li><li><p><code>fileType</code>: The type of the graphics files produced.</p><p>Default: <code>png</code> </p><p>Accepted values: Most of the commonly used file types that support saving graphics (e.g., <code>pdf</code>, <code>jpeg</code>, <code>tiff</code>, <code>png</code>, <code>bmp</code>). Note, however, that this is system-dependent.<sup class="footnote-reference"><a id="citeref-7" href="#footnote-7">[7]</a></sup></p></li><li><p><code>dpi</code>: Resolution of the generated figures (in dots per inch).</p><p>Default: <code>300</code></p><p>Accepted values: Any integer greater than zero.</p></li><li><p><code>figHeight</code>: Height of the generated figures (in inches).</p></li></ul><pre><code class="nohighlight hljs">  Default: `6`

  Accepted values: Any number greater than zero.</code></pre><ul><li><p><code>figWidth</code>: Width of the generated figures (in inches).</p><p>Default: <code>10</code></p><p>Accepted values: Any number greater than zero.</p></li></ul><p>Example (compare with   <a href="#multiplots-minimal-config">5.4.2</a>):</p><p><code>[[multiPlots]]           displayName = &quot;An arbitrary multiPlot&quot;           experiment = &quot;My experiment&quot;           plotType = &quot;Number of Observations&quot;           database = &quot;ecma&quot;           startDate = -30           [multiPlots.batchMode]               parentDir = &quot;/home/user/obsmon_batch_mode_plots&quot;</code></p></li></ul><p>or, if you want to keep it simple,</p><ul><li><p><code>batchMode = true</code></p><p>And that is it. This is of course much simpler than going via option   (a), but it does not allow any customisation. Example (compare with   <a href="#multiplots-minimal-config">5.4.2</a>):</p><p><code>toml       [[multiPlots]]           displayName = &quot;An arbitrary multiPlot&quot;           experiment = &quot;My experiment&quot;           plotType = &quot;Number of Observations&quot;           database = &quot;ecma&quot;           startDate = -30           batchMode = true</code></p></li></ul><p>Using option (a) with an empty <code>[multiPlots.batchMode]</code> table has the same effect as using option (b). Finally, setting <code>batchMode = false</code> in option (b) is also allowed, in which case the corresponding <code>multiPlot</code> will, rather unsurprisingly, not become activated for use in batch mode.</p><h3 id="Running-obsmon-in-batch-mode"><a class="docs-heading-anchor" href="#Running-obsmon-in-batch-mode">Running obsmon in batch mode</a><a id="Running-obsmon-in-batch-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Running-obsmon-in-batch-mode" title="Permalink"></a></h3><p>Just use the <code>–batch</code> command line option:</p><pre><code class="nohighlight hljs">./obsmon --batch</code></pre><h2 id="domains"><a class="docs-heading-anchor" href="#domains">Domain Geometry &amp; Grid</a><a id="domains-1"></a><a class="docs-heading-anchor-permalink" href="#domains" title="Permalink"></a></h2><p>Interactive maps support the use of a domain&#39;s geometry and grid. If set, these are employed so that:</p><ul><li><p>Display and domain projections match</p></li><li><p>Initial zoom in config is based on the domain&#39;s boundaries</p></li><li><p>Plots of the \&quot;Average Maps\&quot; type can perform grid-averages</p></li></ul><p>To enable domain use, just enter valid configurations in the fields under the <code>Domain Geometry &amp; Grid</code> tab in the GUI. The geometry and grid resolution parameters used in obsmon are a subset of those specified in Harmonie.</p><p>To set default parameters, which will be loaded in the GUI at startup, you need to add a <code>[domain]</code> section to your config file. For example, to configure a coarser version of the the <code>METCOOP25C</code> domain, you can add the following section to your config file:</p><pre><code class="language-toml hljs">    [domain]
        nlon = 90      
        nlat = 96
        lonc = 16.763011639                             
        latc = 63.489212956                                                                                 
        lon0 = 15.0                         
        lat0 = 63.0
        gsize = 25000
        lmrt = false</code></pre><p><strong>N.B.:</strong> Please pay special attention to the <code>nlon</code>, <code>nlat</code> and <code>gsize</code> parameters when copying configs from Harmonie domains. [The Harmonie grids are normally much thinner than you would typically want to use in obsmon, and using them without tweaking these parameters will most likely lead to long processing times for plots involving grid averages]{.underline}.</p><h2 id="cache"><a class="docs-heading-anchor" href="#cache">Caching</a><a id="cache-1"></a><a class="docs-heading-anchor-permalink" href="#cache" title="Permalink"></a></h2><p>Every time you select a new <code>{experiment, database, DTG(s)}</code> combination, obsmon collects metadata such as available observation types and names, variables and station IDs from the relevant data files. This information is then saved to <code>sqlite</code> cache files. Cached information is used to populate the menus in the GUI with choices that better reflect your experiments&#39; data.</p><p>Caching occurs automatically and asynchronously. How long it takes for it to be completed depends on factors such as how many <em>new</em> DTGs you have selected or, for instance, whether your experiment&#39;s data files are located in the same computer as obsmon (faster) or in a network mount point (slower). While caching is not finished (or if cache information cannot be retrieved for whatever reason), the menus in the GUI become populated with a set of default values. [You can therefore continue to explore your data even if cached info is unavailable or incomplete]{.underline}.</p><h3 id="advanced-cache-opts"><a class="docs-heading-anchor" href="#advanced-cache-opts">Advanced cache options</a><a id="advanced-cache-opts-1"></a><a class="docs-heading-anchor-permalink" href="#advanced-cache-opts" title="Permalink"></a></h3><p>Advanced cache-related options can be enabled either by setting the parameter <code>showCacheOptions</code> to <code>true</code> in the config file (see <a href="../configfile/#config-file-general">4.1</a>) or by creating a file named <code>.obsmon_show_cache_options</code> inside the main obsmon directory. The GUI will then feature two buttons that allow rewriting or resetting the cache files. You would typically use this to solve problems with a corrupted cache file.</p><p>These buttons are hidden by default to prevent individual users from changing the contents of cache files when using a single shared obsmon installation (be it available locally or via web). Nevertheless, is safe to use these advanced cache-resetting options if you know you won&#39;t inadvertently affect other users. In fact, it is actually safe to manually remove the cache files if the same circumstances apply. In the worst case scenario, completely resetting/removing the cache files will only cause obsmon to re-cache information when/if necessary. Your experiments&#39; data files will not be affected if you click on any of these buttons.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-7"><a class="tag is-link" href="#citeref-7">7</a>For more details, see the documentation of the <code>ggsave</code> function from the <a href="https://www.rdocumentation.org/packages/ggplot2">ggplot2</a> <code>R</code> package.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../configfile/">« The config file</a><a class="docs-footer-nextpage" href="../faq/">Frequently asked Questions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Tuesday 10 February 2026 11:27">Tuesday 10 February 2026</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
